<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fakebook - Log in</title>
  <link rel="stylesheet" href="Loginpage.css" />
</head>

<body class="login-page">

<p style="background:#111;color:#fff;padding:10px;text-align:center;font-size:14px;">
  <strong>DISCLAIMER:</strong> THIS PAGE WAS MADE AS A PERSONAL EDUCATIONAL PROJECT.
</p>

<div class="login-container">
  <h1 class="fb-logo">fakebook</h1>
  <p><b><i>Login using the email and password you created</i></b></p>

  <div class="login-box">
    <input type="text" placeholder="Email" id="email" />
    <input type="password" placeholder="Password" id="password" />
    <button id="loginBtn">Log In</button>

    <div class="loader-3d hidden" id="loader"></div>

    <a href="#">Forgotten password?</a>
    <hr />
    <button class="create-btn" id="signupBtn">Create New Account</button>
  </div>
</div>

<p><a href="#">Create a Page</a> for a celebrity, brand or business.</p>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const loginBtn = document.getElementById("loginBtn");
  const loader = document.getElementById("loader");
  const signupBtn = document.getElementById("signupBtn");

  loginBtn.addEventListener("click", () => {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!email || !password) {
      alert("Please fill in both fields.");
      return;
    }

    loader.classList.remove("hidden");
    loginBtn.disabled = true;
    loginBtn.textContent = "Logging in...";

    setTimeout(() => {
      const users = JSON.parse(localStorage.getItem("users")) || [];

      const user = users.find(
        u => u.email === email && u.password === password
      );

      loader.classList.add("hidden");
      loginBtn.disabled = false;
      loginBtn.textContent = "Log In";

      if (user) {
        // âœ… save full user for homepage
        localStorage.setItem("currentUser", JSON.stringify(user));
        window.location.href = "home.html";
      } else {
        alert("Invalid email or password. If you don't have an account, please create one.");
      }
    }, 1000);
  });

  document.addEventListener("keydown", e => {
    if (e.key === "Enter") loginBtn.click();
  });

  signupBtn.addEventListener("click", () => {
    window.location.href = "signup.html";
  });
});
</script>

</body>
</html>
